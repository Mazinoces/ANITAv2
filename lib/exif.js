/*
//══════════════════════════════════════════════════════════════════════════════════════════════════════//
//                                                                                                      //
//                                ＷＨＡＴＳＡＰＰ ＢＯＴ－ＭＤ                                             // 
//                                                                                                      // 
//                                         Ｖ：１．０                                                    // 
//                                                                                                      // 
//                                                                                                      //
//         ██████ ██    ██  ██████  ███    ██ ██    ██ ███████       ██████   ██████  ████████          //
//        ██       ██  ██  ██       ████   ██ ██    ██ ██            ██   ██ ██    ██    ██             //
//        ██        ████   ██   ███ ██ ██  ██ ██    ██ ███████ █████ ██████  ██    ██    ██             //   
//        ██         ██    ██    ██ ██  ██ ██ ██    ██      ██       ██   ██ ██    ██    ██             //  
//         ██████    ██     ██████  ██   ████  ██████  ███████       ██████   ██████     ██             //  
//                                                                                                      //
//                                                                                                      //
//                                                                                                      //
//                                                                                                      //
//                                                                                                      //
//                                                                                                      //
//══════════════════════════════════════════════════════════════════════════════════════════════════════//

*
   * @project_name : CYGNUS-BOTv2
   * @author : CODERXSA
   * @youtube : https://www.youtube.com/@coderxsa
   * @instagram : https://www.instagram.com/coderx.sa
   * @description : My Private build i made public for everone to use and easy hosting.
   * @version : 1.0
   * Donation : https://pay.yoco.com/coderx
   
   * For all my GitHub bots, I typically only check and update them when I have the time. My primary focus is on my main bots.
*
   * Licensed under the  GPL-3.0 License;
* 
   * Created By CODERX.
   * © 2024 CYGNUS-BOTv2.
*/



//══════════════════════════════════════════════════════════════════════════════════════════════════════//

const _0x446883=_0x714d;(function(_0x2f60a8,_0x3300f0){const _0x570cd2=_0x714d,_0xf57cc7=_0x2f60a8();while(!![]){try{const _0x58e87f=-parseInt(_0x570cd2(0x12f))/0x1+-parseInt(_0x570cd2(0x122))/0x2*(parseInt(_0x570cd2(0x144))/0x3)+-parseInt(_0x570cd2(0xf5))/0x4*(-parseInt(_0x570cd2(0x12b))/0x5)+-parseInt(_0x570cd2(0x11f))/0x6+-parseInt(_0x570cd2(0x111))/0x7*(parseInt(_0x570cd2(0x13e))/0x8)+parseInt(_0x570cd2(0xf8))/0x9+parseInt(_0x570cd2(0x11e))/0xa*(parseInt(_0x570cd2(0x142))/0xb);if(_0x58e87f===_0x3300f0)break;else _0xf57cc7['push'](_0xf57cc7['shift']());}catch(_0x537f5c){_0xf57cc7['push'](_0xf57cc7['shift']());}}}(_0x21e6,0x59d16));const ffmpeg=require(_0x446883(0x121)),{randomBytes}=require('crypto'),fs=require('fs'),{getHttpStream,toBuffer}=require('@whiskeysockets/baileys'),sharp=require(_0x446883(0x131)),{spawn}=require(_0x446883(0x108)),path=require(_0x446883(0x12d)),{fromBuffer}=require(_0x446883(0x106)),{tmpdir}=require('os'),ff=require(_0x446883(0x121)),webp=require(_0x446883(0x127));async function toGif(_0x8c9377){const _0x6c03b2=_0x446883;try{const _0x5c1a9f='./'+randomBytes(0x3)[_0x6c03b2(0x128)](_0x6c03b2(0xf6))+_0x6c03b2(0x100),_0x46230c='./'+randomBytes(0x3)[_0x6c03b2(0x128)]('hex')+_0x6c03b2(0x101);fs[_0x6c03b2(0x137)](_0x5c1a9f,_0x8c9377[_0x6c03b2(0x128)]('binary'),_0x6c03b2(0x146));const _0x5a8d44=await new Promise(_0x13bc1d=>{const _0x2ca6d0=_0x6c03b2;spawn('convert',[_0x5c1a9f,_0x46230c])['on'](_0x2ca6d0(0x13d),_0x28e915=>{throw _0x28e915;})['on'](_0x2ca6d0(0x13b),()=>_0x13bc1d(_0x46230c));});let _0x217522=fs[_0x6c03b2(0x126)](_0x5a8d44);try{fs[_0x6c03b2(0x139)](_0x5c1a9f);}catch{}try{fs[_0x6c03b2(0x139)](_0x46230c);}catch{}return _0x217522;}catch(_0xb1e646){console['log'](_0xb1e646);}}async function toMp4(_0xaf7e6e){const _0x40830c=_0x446883;try{let _0x1d1685='./'+randomBytes(0x3)[_0x40830c(0x128)](_0x40830c(0xf6))+_0x40830c(0x101);const _0xb93ada=fs[_0x40830c(0x120)](_0xaf7e6e)?_0xaf7e6e:save(_0xaf7e6e,_0x1d1685),_0x5a9df7='./'+randomBytes(0x3)[_0x40830c(0x128)](_0x40830c(0xf6))+_0x40830c(0x119),_0xf2cadb=await new Promise(_0x47558a=>{const _0x917b9c=_0x40830c;ffmpeg(_0xb93ada)[_0x917b9c(0xf1)](['-pix_fmt\x20yuv420p',_0x917b9c(0x114),_0x917b9c(0x129),'-filter:v\x20crop=\x27floor(in_w/2)*2:floor(in_h/2)*2\x27'])[_0x917b9c(0x125)](_0x917b9c(0x13a))[_0x917b9c(0x102)]()[_0x917b9c(0x115)](_0x5a9df7)['on'](_0x917b9c(0x13b),()=>_0x47558a(_0x5a9df7));});let _0x6554e6=await fs[_0x40830c(0x12e)][_0x40830c(0x10b)](_0xf2cadb);try{fs['unlinkSync'](_0xb93ada);}catch{}try{fs[_0x40830c(0x139)](_0x5a9df7);}catch{}return _0x6554e6;}catch(_0x599580){console[_0x40830c(0x12c)](_0x599580);}}const EightD=async _0x299d2c=>{const _0x5f0450=_0x446883,_0x45ce71=_0x5f0450(0xff)+randomBytes(0x3)['toString'](_0x5f0450(0xf6))+_0x5f0450(0xf4);_0x299d2c=Buffer['isBuffer'](_0x299d2c)?save(_0x299d2c,_0x45ce71):_0x299d2c;const _0xd620a8=_0x5f0450(0xff)+randomBytes(0x3)[_0x5f0450(0x128)](_0x5f0450(0xf6))+_0x5f0450(0xf4),_0x45afcb=await new Promise(_0x122a29=>{const _0x5ee2bf=_0x5f0450;ffmpeg(_0x299d2c)[_0x5ee2bf(0xfe)]([_0x5ee2bf(0x112)])['audioFrequency'](0xac44)['audioChannels'](0x2)[_0x5ee2bf(0x105)](_0x5ee2bf(0x123))[_0x5ee2bf(0x118)](_0x5ee2bf(0x116))[_0x5ee2bf(0x11c)](0x5)[_0x5ee2bf(0x125)]('mp3')[_0x5ee2bf(0x115)](_0xd620a8)['on']('end',()=>_0x122a29(_0xd620a8));});return _0x45afcb;};function save(_0x1c8fd9,_0x4300d0=_0x446883(0x113)){const _0x53f45f=_0x446883;try{return fs[_0x53f45f(0x137)](_0x4300d0,_0x1c8fd9['toString']('binary'),_0x53f45f(0x146)),_0x4300d0;}catch(_0x5b488f){console['log'](_0x5b488f);}}const resizeImage=(_0x507ecf,_0x46487d,_0x168755)=>{const _0x1eec2d=_0x446883;if(!Buffer[_0x1eec2d(0x10f)](_0x507ecf))throw'Input\x20is\x20not\x20a\x20Buffer';return new Promise(async _0x4f05e0=>{const _0x3f021c=_0x1eec2d;sharp(_0x507ecf)['resize'](_0x46487d,_0x168755,{'fit':_0x3f021c(0xf3)})[_0x3f021c(0x103)]()[_0x3f021c(0x10a)](_0x4f05e0);});},_parseInput=async(_0x2148a1,_0x199088=![],_0x425d90=_0x446883(0x12d))=>{const _0x41289f=_0x446883,_0x419799=await toBuffer(await getHttpStream(_0x2148a1)),_0x534321='./assets/file_'+randomBytes(0x3)[_0x41289f(0x128)](_0x41289f(0xf6))+'.'+(_0x199088?_0x199088:(await fromBuffer(_0x419799))[_0x41289f(0xfa)]),_0xc588f7=Buffer[_0x41289f(0x10f)](_0x2148a1)?save(_0x2148a1,_0x534321):fs[_0x41289f(0x120)](_0x2148a1)?_0x2148a1:_0x2148a1;if(_0x425d90==_0x41289f(0x12d))return _0xc588f7;else{if(_0x425d90=='buffer'){const _0x2ef258=await fs[_0x41289f(0x12e)][_0x41289f(0x10b)](_0xc588f7);try{await fs[_0x41289f(0x12e)][_0x41289f(0xfd)](_0xc588f7);}catch(_0x44e894){}return _0x2ef258;}}};async function imageToWebp(_0x4a3a9c){const _0xeedb71=_0x446883,_0x3514f4=path[_0xeedb71(0x130)](tmpdir(),randomBytes(0x6)[_0xeedb71(0x11d)](0x0,0x6)[_0xeedb71(0x128)](0x24)+_0xeedb71(0x100)),_0x4d7f06=path['join'](tmpdir(),randomBytes(0x6)[_0xeedb71(0x11d)](0x0,0x6)[_0xeedb71(0x128)](0x24)+_0xeedb71(0x107));fs['writeFileSync'](_0x4d7f06,_0x4a3a9c),await new Promise((_0x162c1b,_0x1224da)=>{const _0x2ce78a=_0xeedb71;ff(_0x4d7f06)['on']('error',_0x1224da)['on']('end',()=>_0x162c1b(!![]))[_0x2ce78a(0xf2)]([_0x2ce78a(0x135),_0x2ce78a(0x10d),_0x2ce78a(0x124),'scale=\x27min(320,iw)\x27:min\x27(320,ih)\x27:force_original_aspect_ratio=decrease,fps=15,\x20pad=320:320:-1:-1:color=white@0.0,\x20split\x20[a][b];\x20[a]\x20palettegen=reserve_transparent=on:transparency_color=ffffff\x20[p];\x20[b][p]\x20paletteuse'])[_0x2ce78a(0x125)](_0x2ce78a(0x136))[_0x2ce78a(0x115)](_0x3514f4);});const _0x4ea558=fs[_0xeedb71(0x126)](_0x3514f4);return fs[_0xeedb71(0x139)](_0x3514f4),fs[_0xeedb71(0x139)](_0x4d7f06),_0x4ea558;}async function videoToWebp(_0x1839f6){const _0x55a359=_0x446883,_0x4d53a8=path[_0x55a359(0x130)](tmpdir(),randomBytes(0x6)[_0x55a359(0x11d)](0x0,0x6)[_0x55a359(0x128)](0x24)+_0x55a359(0x100)),_0x154363=path['join'](tmpdir(),randomBytes(0x6)[_0x55a359(0x11d)](0x0,0x6)[_0x55a359(0x128)](0x24)+_0x55a359(0x119));fs[_0x55a359(0x137)](_0x154363,_0x1839f6),await new Promise((_0x375045,_0xc7727c)=>{const _0x9cfd2=_0x55a359;ff(_0x154363)['on'](_0x9cfd2(0x13d),_0xc7727c)['on'](_0x9cfd2(0x12a),()=>_0x375045(!![]))[_0x9cfd2(0xf2)](['-vcodec','libwebp','-vf',_0x9cfd2(0x117),_0x9cfd2(0x143),'0',_0x9cfd2(0x13f),'00:00:00','-t',_0x9cfd2(0x140),_0x9cfd2(0xf9),_0x9cfd2(0x138),'-an',_0x9cfd2(0xfc),'0'])[_0x9cfd2(0x125)](_0x9cfd2(0x136))[_0x9cfd2(0x115)](_0x4d53a8);});const _0x1a7b46=fs['readFileSync'](_0x4d53a8);return fs[_0x55a359(0x139)](_0x4d53a8),fs[_0x55a359(0x139)](_0x154363),_0x1a7b46;}function _0x714d(_0x11f85a,_0x53ab8e){const _0x21e631=_0x21e6();return _0x714d=function(_0x714da1,_0x43ec9b){_0x714da1=_0x714da1-0xf1;let _0x45bd78=_0x21e631[_0x714da1];return _0x45bd78;},_0x714d(_0x11f85a,_0x53ab8e);}async function writeExifImg(_0x35ef33,_0x42cf04){const _0x2ff220=_0x446883;let _0x2df3db=await imageToWebp(_0x35ef33);const _0x4c99af=path[_0x2ff220(0x130)](tmpdir(),randomBytes(0x6)[_0x2ff220(0x11d)](0x0,0x6)[_0x2ff220(0x128)](0x24)+_0x2ff220(0x100)),_0x4e02df=path[_0x2ff220(0x130)](tmpdir(),randomBytes(0x6)[_0x2ff220(0x11d)](0x0,0x6)[_0x2ff220(0x128)](0x24)+_0x2ff220(0x100));fs[_0x2ff220(0x137)](_0x4c99af,_0x2df3db);if(_0x42cf04[_0x2ff220(0x13c)]||_0x42cf04[_0x2ff220(0xfb)]){const _0x3ba8fd=new webp[(_0x2ff220(0x109))](),_0x262f25={'sticker-pack-id':'Asta-Md','sticker-pack-name':_0x42cf04[_0x2ff220(0x13c)],'sticker-pack-publisher':_0x42cf04[_0x2ff220(0xfb)],'emojis':_0x42cf04[_0x2ff220(0x10e)]?_0x42cf04['categories']:['']},_0x2936a4=Buffer['from']([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x2681e4=Buffer[_0x2ff220(0xf7)](JSON[_0x2ff220(0x133)](_0x262f25),_0x2ff220(0x132)),_0x93a19f=Buffer[_0x2ff220(0x10c)]([_0x2936a4,_0x2681e4]);return _0x93a19f[_0x2ff220(0x147)](_0x2681e4[_0x2ff220(0x134)],0xe,0x4),await _0x3ba8fd[_0x2ff220(0x11b)](_0x4c99af),fs[_0x2ff220(0x139)](_0x4c99af),_0x3ba8fd[_0x2ff220(0x104)]=_0x93a19f,await _0x3ba8fd[_0x2ff220(0x115)](_0x4e02df),_0x4e02df;}}async function writeExifVid(_0x1fc797,_0x2aeb30){const _0x2ba51c=_0x446883;let _0x25f9c3=await videoToWebp(_0x1fc797);const _0x8e8fed=path[_0x2ba51c(0x130)](tmpdir(),randomBytes(0x6)[_0x2ba51c(0x11d)](0x0,0x6)[_0x2ba51c(0x128)](0x24)+_0x2ba51c(0x100)),_0x50946f=path[_0x2ba51c(0x130)](tmpdir(),randomBytes(0x6)[_0x2ba51c(0x11d)](0x0,0x6)[_0x2ba51c(0x128)](0x24)+_0x2ba51c(0x100));fs[_0x2ba51c(0x137)](_0x8e8fed,_0x25f9c3);let _0x4f0869,_0x3a8a31;try{_0x4f0869=_0x2aeb30[_0x2ba51c(0x13c)];}catch(_0x3aa51b){_0x4f0869=_0x2ba51c(0x141);}try{_0x3a8a31=_0x2aeb30[_0x2ba51c(0xfb)];}catch(_0x4beb66){_0x3a8a31='';}const _0x5035a9=new webp['Image'](),_0x5988ca={'sticker-pack-id':_0x2ba51c(0x11a),'sticker-pack-name':_0x4f0869,'sticker-pack-publisher':_0x3a8a31,'emojis':_0x2aeb30[_0x2ba51c(0x10e)]?_0x2aeb30[_0x2ba51c(0x10e)]:['']},_0x303719=Buffer[_0x2ba51c(0xf7)]([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x13f876=Buffer[_0x2ba51c(0xf7)](JSON['stringify'](_0x5988ca),_0x2ba51c(0x132)),_0x256d94=Buffer[_0x2ba51c(0x10c)]([_0x303719,_0x13f876]);return _0x256d94['writeUIntLE'](_0x13f876[_0x2ba51c(0x134)],0xe,0x4),await _0x5035a9[_0x2ba51c(0x11b)](_0x8e8fed),fs[_0x2ba51c(0x139)](_0x8e8fed),_0x5035a9['exif']=_0x256d94,await _0x5035a9[_0x2ba51c(0x115)](_0x50946f),_0x50946f;}async function writeExifWebp(_0x18b5c8,_0x175e7a){const _0x1a7019=_0x446883,_0x466b6d=path[_0x1a7019(0x130)](tmpdir(),randomBytes(0x6)[_0x1a7019(0x11d)](0x0,0x6)['toString'](0x24)+_0x1a7019(0x100)),_0x1c26f8=path[_0x1a7019(0x130)](tmpdir(),randomBytes(0x6)[_0x1a7019(0x11d)](0x0,0x6)[_0x1a7019(0x128)](0x24)+_0x1a7019(0x100));fs['writeFileSync'](_0x466b6d,_0x18b5c8);if(_0x175e7a[_0x1a7019(0x13c)]||_0x175e7a[_0x1a7019(0xfb)]){const _0x2ef6e8=new webp['Image'](),_0x1701f5={'sticker-pack-id':_0x1a7019(0x110),'sticker-pack-name':_0x175e7a[_0x1a7019(0x13c)],'sticker-pack-publisher':_0x175e7a[_0x1a7019(0xfb)],'emojis':_0x175e7a[_0x1a7019(0x10e)]?_0x175e7a[_0x1a7019(0x10e)]:['']},_0x1f9caf=await Buffer[_0x1a7019(0xf7)]([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x117e79=await Buffer[_0x1a7019(0xf7)](JSON[_0x1a7019(0x133)](_0x1701f5),_0x1a7019(0x132)),_0x1d1242=await Buffer[_0x1a7019(0x10c)]([_0x1f9caf,_0x117e79]);return await _0x1d1242[_0x1a7019(0x147)](_0x117e79[_0x1a7019(0x134)],0xe,0x4),await _0x2ef6e8[_0x1a7019(0x11b)](_0x466b6d),fs[_0x1a7019(0x139)](_0x466b6d),_0x2ef6e8[_0x1a7019(0x104)]=_0x1d1242,await _0x2ef6e8['save'](_0x1c26f8),_0x1c26f8;}}function _0x21e6(){const _0x213d70=['ANITA','load','audioQuality','readUIntLE','11458660bWGKTq','1833984pHZWLg','existsSync','fluent-ffmpeg','2iEbrug','128k','-vf','toFormat','readFileSync','node-webpmux','toString','-movflags\x20+faststart','end','62965ojyLAq','log','path','promises','646177aNnhqf','join','sharp','utf-8','stringify','length','-vcodec','webp','writeFileSync','default','unlinkSync','mp4','exit','packname','error','32YitTlT','-ss','00:00:05','Asta-Md','11gEbDse','-loop','1398612aVNEYK','exports','binary','writeUIntLE','outputOptions','addOutputOptions','contain','.mp3','16XRKpwV','hex','from','5647545uVTDlZ','-preset','ext','author','-vsync','unlink','audioFilter','./assets/','.webp','.gif','noAudio','toBuffer','exif','audioBitrate','file-type','.jpg','child_process','Image','then','readFile','concat','libwebp','categories','isBuffer','Asta_Md','66157AegwVr','apulsator=hz=0.125','./assets/saveFile.jpg','-c:v\x20libx264','save','libmp3lame','scale=\x27min(320,iw)\x27:min\x27(320,ih)\x27:force_original_aspect_ratio=decrease,fps=15,\x20pad=320:320:-1:-1:color=white@0.0,\x20split\x20[a][b];\x20[a]\x20palettegen=reserve_transparent=on:transparency_color=ffffff\x20[p];\x20[b][p]\x20paletteuse','audioCodec','.mp4'];_0x21e6=function(){return _0x213d70;};return _0x21e6();}module[_0x446883(0x145)]={'imageToWebp':imageToWebp,'videoToWebp':videoToWebp,'writeExifImg':writeExifImg,'writeExifVid':writeExifVid,'writeExifWebp':writeExifWebp,'toGif':toGif,'toMp4':toMp4,'EightD':EightD,'_parseInput':_parseInput,'resizeImage':resizeImage};